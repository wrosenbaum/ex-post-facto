<!doctype html>
<html lang="en">
	<head>

	  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	  <meta charset="utf-8">

		<link rel="stylesheet" href="/assets/reveal.js-master/dist/reset.css">
		<link rel="stylesheet" href="/assets/reveal.js-master/dist/reveal.css">
		<link rel="stylesheet" href="/assets/css/condensation.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="/assets/reveal.js-master/plugin/highlight/monokai.css" id="highlight-theme">
		<link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700" rel="stylesheet">

	</head>

	<body>


	  <!-- this is where the reveailfy filter gets applied -->
	  <div class="reveal"><div class="slides">






























































































































<!-- ## Program Demo -->

































































<!-- ## Stack Ordering -->

<!-- Stacks are **L**ast **I**n, **F**irst **O**ut (LIFO): -->

<!-- - the last item pushed is next item popped -->

<!-- Often items should be processed in the order they arrive: -->

<!-- - **F**irst **I**n, **F**irst **O**ut (FIFO) -->

<!-- Examples: -->

<!-- - Standing in line  -->
<!--     + first come, first serve -->
<!-- - Communication buffers -->
<!--     + reading from `InputStream in`, `in.get()` reads characters in order -->

<!-- ## The Queue -->

<!-- Another abstract data type: the **queue** -->

<!-- Supports two basic operations: -->

<!-- - `void enq(T item)` enqueue (add) an item to the end of the queue -->
<!-- - `T deq()` dequeue (remove) item from the front queue and return it -->

<!-- The first item enqueued is the first to be dequeued, etc -->

<!-- ## Visualizing Enqueue -->

<!-- ![](/assets/img/queues/enqueue-1.png){: width="100%"} -->

<!-- ## Enqueue Another -->

<!-- ![](/assets/img/queues/enqueue-2.png){: width="100%"} -->

<!-- ## And Another -->

<!-- ![](/assets/img/queues/enqueue-3.png){: width="100%"} -->

<!-- ## Dequeue Once -->

<!-- ![](/assets/img/queues/dequeue-1.png){: width="100%"} -->

<!-- ## Enqueue Again -->

<!-- ![](/assets/img/queues/enqueue-4.png){: width="100%"} -->

<!-- ## Dequeue Again -->

<!-- ![](/assets/img/queues/dequeue-2.png){: width="100%"} -->

<!-- ## Enqueue Last Time -->

<!-- ![](/assets/img/queues/enqueue-5.png){: width="100%"} -->

<!-- ## Implementing a Queue -->

<!-- How could we implement a queue with a linked list? -->

<!-- ## A `QueueList` -->

<!-- ![](/assets/img/queues/queue-list.png){: width="100%"} -->

<!-- ## Enqueue Step 1 -->

<!-- ![](/assets/img/queues/list-enqueue-1.png){: width="100%"} -->

<!-- ## Enqueue Step 2 -->

<!-- ![](/assets/img/queues/list-enqueue-2.png){: width="100%"} -->

<!-- ## Enqueue Step 3 -->

<!-- ![](/assets/img/queues/list-enqueue-3.png){: width="100%"} -->

<!-- ## Item Enqueued! Dequeue? -->

<!-- ![](/assets/img/queues/list-enqueue-4.png){: width="100%"} -->

<!-- ## Dequeue Step 1 -->

<!-- ![](/assets/img/queues/list-dequeue-1.png){: width="100%"} -->

<!-- ## Dequeue Step 2 -->

<!-- ![](/assets/img/queues/list-dequeue-2.png){: width="100%"} -->

<!-- ## Dequeue Step 3 -->

<!-- ![](/assets/img/queues/list-dequeue-3.png){: width="100%"} -->

<!-- ## To Do -->

<!-- Implement a `QueueList<T>` in Java! -->

<section id="lecture-21-stacks-and-balanced-expressions"><h1>Lecture 21: Stacks and Balanced Expressions</h1></section><section id="overview"><h2>Overview</h2>
<ol>
  <li>Project 3: Stable Matchings</li>
  <li>Balanced Expressions</li>
  <li>Queues</li>
</ol></section><section id="project-3-stable-matchings"><h1>Project 3: Stable Matchings</h1></section><section id="stable-marriage-problem"><h2>Stable Marriage Problem</h2>
<p>Setup:</p>
<ul>
  <li>2 sets of <strong>agents</strong>
    <ul>
      <li>residents</li>
      <li>hospitals</li>
    </ul>
  </li>
  <li>want to match residents to hospitals
    <ul>
      <li>each resident assigned to one hospital</li>
      <li>each hospital assigned one resident</li>
    </ul>
  </li>
  <li>agents have <strong>preferences</strong>
    <ul>
      <li>residents rank hospitals</li>
      <li>hospitals rank residents</li>
    </ul>
  </li>
</ul>
<p>How should we match hospitals and residents?</p></section><section id="background"><h2>Background</h2>
<p>Problem formalized by Gale &amp; Shapley, 1962</p>
<ul>
  <li>Defined a criterion for a “good” matching: <strong>stability</strong>
</li>
  <li>Described an algorithm to find a stable matching</li>
</ul>
<p>Central problem in economics</p>
<ul>
  <li>1,000’s of academic articles
    <ul>
      <li>including several by me</li>
    </ul>
  </li>
  <li>4+ books devoted solely to this problem</li>
  <li>2012 Nobel Prize in Economics (Shapley &amp; Roth)</li>
</ul>
<p>And recently: Marriage Pact</p></section><section id="input"><h2>Input</h2>
<ul>
  <li>A set $H$ of hospitals</li>
  <li>A set $R$ of residents</li>
  <li>For each hospital $h$:
    <ul>
      <li>a ranked list of all residents</li>
    </ul>
  </li>
  <li>For each resident $r$
    <ul>
      <li>a ranked list of all hospitals</li>
    </ul>
  </li>
</ul>
<p>Example:</p>
<pre><code class="language-text">    hospitals
    A B
    residents
    a b
    preferences
    a: A B
    b: A B
    A: a b
    B: a b
</code></pre></section><section id="output"><h2>Output</h2>
<pre><code class="language-text">    hospitals
    A B
    residents
    a b
    preferences
    a: A B
    b: A B
    A: a b
    B: a b
</code></pre>
<p>Goal: find a matching where no hospital-resident pair has an incentive to deviate</p></section><section id="blocking-pairs"><h2>Blocking Pairs</h2>
<pre><code class="language-text">    hospitals
    A B
    residents
    a b
    preferences
    a: A B
    b: A B
    A: a b
    B: a b
</code></pre>
<p>Consider matching <code>(a, B), (b, A)</code></p>
<div style="margin-bottom: 8em"></div>
<p>The pair <code>(a, A)</code> is a <strong>blocking pair</strong>.</p></section><section id="stability"><h2>Stability</h2>
<p>A matching without blocking pairs is <strong>stable</strong>.</p>
<pre><code class="language-text">    hospitals
    A B
    residents
    a b
    preferences
    a: A B
    b: A B
    A: a b
    B: a b
</code></pre>
<p>Consider matching <code>(a, A), (b, B)</code></p>
<div style="margin-bottom: 8em"></div></section><section id="an-algorithm-mcvitie--wilson"><h2>An Algorithm (McVitie &amp; Wilson)</h2>
<ol>
  <li>Residents arrive one at a time</li>
  <li>When a resident arrives, proposes to first choice hospital</li>
  <li>When a hospital receives a proposal:
    <ul>
      <li>if no other proposals yet, provisially accept</li>
      <li>otherwise compare proposals
        <ul>
          <li>provisionally accept preferred proposal</li>
          <li>
<em>refuse</em> less preferred proposal</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>When a resident receives refusal
    <ul>
      <li>propose to next choice hospital</li>
    </ul>
  </li>
</ol>
<p>Continue until all residents arrive</p></section><section id="algorithm-example"><h2>Algorithm Example</h2>
<p><img src="/assets/img/stable-matchings/sm-instance.png" alt="" width="100%"></p></section><section id="m--w-step-1-a-proposal"><h2>M &amp; W Step 1: <code>a</code> proposal</h2>
<p><img src="/assets/img/stable-matchings/sm-1.png" alt="" width="100%"></p></section><section id="m--w-step-2-b-proposal"><h2>M &amp; W Step 2: <code>b</code> proposal</h2>
<p><img src="/assets/img/stable-matchings/sm-2.png" alt="" width="100%"></p></section><section id="m--w-step-3-b-refusal"><h2>M &amp; W Step 3: <code>B</code> refusal</h2>
<p><img src="/assets/img/stable-matchings/sm-3.png" alt="" width="100%"></p></section><section id="m--w-step-4-a-proposal"><h2>M &amp; W Step 4: <code>a</code> proposal</h2>
<p><img src="/assets/img/stable-matchings/sm-4.png" alt="" width="100%"></p></section><section id="m--w-step-5-c-proposal"><h2>M &amp; W Step 5: <code>c</code> proposal</h2>
<p><img src="/assets/img/stable-matchings/sm-5.png" alt="" width="100%"></p></section><section id="m--w-step-6-a-refusal"><h2>M &amp; W Step 6: <code>A</code> refusal</h2>
<p><img src="/assets/img/stable-matchings/sm-6.png" alt="" width="100%"></p></section><section id="m--w-step-7-c-proposal"><h2>M &amp; W Step 7: <code>c</code> proposal</h2>
<p><img src="/assets/img/stable-matchings/sm-7.png" alt="" width="100%"></p></section><section id="m--w-step-8-b-refusal"><h2>M &amp; W Step 8: <code>B</code> refusal</h2>
<p><img src="/assets/img/stable-matchings/sm-8.png" alt="" width="100%"></p></section><section id="m--w-step-9-b-proposal"><h2>M &amp; W Step 9: <code>b</code> proposal</h2>
<p><img src="/assets/img/stable-matchings/sm-9.png" alt="" width="100%"></p></section><section id="m--w-step-10-a-refusal"><h2>M &amp; W Step 10: <code>A</code> refusal</h2>
<p><img src="/assets/img/stable-matchings/sm-10.png" alt="" width="100%"></p></section><section id="m--w-step-11-a-proposal"><h2>M &amp; W Step 11: <code>a</code> proposal</h2>
<p><img src="/assets/img/stable-matchings/sm-11.png" alt="" width="100%"></p></section><section id="and-done"><h2>And Done!</h2>
<p><img src="/assets/img/stable-matchings/sm-11.png" alt="" width="100%"></p></section><section id="project-3"><h2>Project 3</h2>
<p>Implement McVitie &amp; Wilson algorithm to find stable matchings!</p>
<ul>
  <li>Provided with examples/tests</li>
</ul></section><section id="balanced-expressions"><h1>Balanced Expressions</h1></section><section id="brackets"><h2>Brackets</h2>
<p>Java uses a lot of brackets:</p>
<ul>
  <li>curly braces <code>{ ... }</code>
</li>
  <li>parentheses <code>( ... )</code>
</li>
  <li>square brackets <code>[ ... ]</code>
</li>
</ul>
<p>If expression are properly bracketed, Java compiler complains!</p></section><section id="an-abstraction"><h2>An Abstraction</h2>
<p>This expression</p>
<pre><code class="language-java">public class HelloWorld {
    public static void main(String[] args)} {
        System.out.println("Hello, World!");
    }
}
</code></pre>
<p>but with just the brackets:</p>
<pre><code class="language-java">{ ( [ ] ) } { ( ) } }
</code></pre>
<div style="margin-bottom: 8em"></div></section><section id="question"><h2>Question</h2>
<p>When is an expression properly bracketed?</p>
<ul>
  <li>What makes <code>{ ( [ ] ) } { ( ) } }</code> okay?</li>
  <li>What makes <code>{ ( [ ] ) } } { ( ) } }</code> not?</li>
</ul>
<div style="margin-bottom: 12em"></div></section><section id="balanced-expressions-1"><h2>Balanced Expressions</h2>
<p>A bracketed expression is <em>balanced</em> if</p>
<ol>
  <li>every opening bracket has a corresponding closing bracket
    <ul>
      <li>closing bracket appears after opening bracket</li>
      <li>one-to-one correspondence between opening and closing</li>
    </ul>
  </li>
  <li>opening-closing pairs are <em>nested</em>
    <ul>
      <li>if opening bracket appears between opening-closing pair, then corresponding closing bracket does too</li>
    </ul>
  </li>
</ol>
<div style="margin-bottom: 2em"></div>
<pre><code class="language-text">{    {    {    }    }    {    }    {    }    }
</code></pre>
<div style="margin-bottom: 2em"></div>
<pre><code class="language-text">{    {    }    }    }    {    }
</code></pre></section><section id="how-to-check-for-balance"><h2>How To Check For Balance?</h2>
<div style="margin-bottom: 4em"></div>
<pre><code class="language-text">{    {    {    }    }    {    }    {    }    }
</code></pre>
<div style="margin-bottom: 8em"></div></section><section id="balance-checking-with-a-stack"><h2>Balance Checking with a Stack</h2>
<ol>
  <li>Scan expression from left to right</li>
  <li>Whenever an open bracket is encountered, push it to the stack</li>
  <li>When a closing bracket is encountered:
    <ul>
      <li>check if it matches top of stack</li>
      <li>if so, pop the stack</li>
      <li>if not, or stack is empty, expression is not balanced!</li>
    </ul>
  </li>
  <li>If stack is not empty at end of expression, expression is not balanced!</li>
</ol></section><section id="checking-for-balance"><h2>Checking for Balance</h2>
<pre><code class="language-text">{    {    {    }    }    {    }    {    }    }
</code></pre>
<div style="margin-bottom: 18em"></div></section><section id="implementation"><h2>Implementation</h2></section>
</div></div>


	  <script src="/assets/reveal.js-master/dist/reveal.js"></script>
	  <script src="/assets/reveal.js-master/plugin/math/math.js"></script>
	  <script src="/assets/reveal.js-master/plugin/zoom/zoom.js"></script>
	  <script src="/assets/reveal.js-master/plugin/notes/notes.js"></script>
	  <script src="/assets/reveal.js-master/plugin/search/search.js"></script>
	  <script src="/assets/reveal.js-master/plugin/markdown/markdown.js"></script>
	  <script src="/assets/reveal.js-master/plugin/highlight/highlight.js"></script>
	  <script>
	    

	    // Also available as an ES module, see:
	    // https://revealjs.com/initialization/
	    Reveal.initialize({
		controls: false,
		progress: true,
		center: true,
		hash: true,
		transition: 'none',
		math: {
		    config: 'TeX-AMS_HTML-full',
		    TeX: {
			Macros: {
			    R: '\\mathbb{R}',
			    set: [ '\\left\\{#1 \\; ; \\; #2\\right\\}', 2 ]
			}
		    }
		},


		// Learn about plugins: https://revealjs.com/plugins/
		plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight, RevealMath ]
	    });

	  </script>

	</body>
</html>
	  

<!-- <\!-- load the reveal.js css & js (assuming you've put it in assets/)-\-> -->
<!-- <link -->
<!--   rel="stylesheet" -->
<!--   href="/assets/reveal.js-master/css/reveal.scss" -->
<!-- /> -->
<!-- <link -->
<!--   rel="stylesheet" -->
<!--   href="/assets/reveal.js-master/css/theme/source/white.scss" -->
<!-- /> -->
<!-- <script -->
<!--   src="/assets/reveal.js-master/js/reveal.js" -->
<!--   type="text/javascript" -->
<!-- ></script> -->

<!-- <\!-- configure the presentation, (you can tweak options to suit) -\-> -->
<!-- <script> -->
<!--   Reveal.initialize({ -->
<!--     // Display presentation control arrows -->
<!--     controls: false, -->

<!--     // Help the user learn the controls by providing hints, for example by -->
<!--     // bouncing the down arrow when they first encounter a vertical slide -->
<!--     controlsTutorial: false, -->

<!--     // Determines where controls appear, "edges" or "bottom-right" -->
<!--     controlsLayout: "bottom-right", -->

<!--     // Visibility rule for backwards navigation arrows; "faded", "hidden" -->
<!--     // or "visible" -->
<!--     controlsBackArrows: "faded", -->

<!--     // Display a presentation progress bar -->
<!--     progress: true, -->

<!--     // Display the page number of the current slide -->
<!--     slideNumber: false, -->

<!--     // Push each slide change to the browser history -->
<!--     history: false, -->

<!--     // Enable keyboard shortcuts for navigation -->
<!--     keyboard: true, -->

<!--     // Enable the slide overview mode -->
<!--     overview: true -->
<!--   }); -->
<!-- </script> -->
