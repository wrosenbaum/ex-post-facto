<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Will  Rosenbaum | Lab 05: Monte Carlo</title>
<meta name="description" content="A blog about mathematics, computer science, etc.
">

<!-- Open Graph -->


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">
<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">



<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

<!-- Styles -->
<link rel="shortcut icon" href="/assets/img/favicon.ico">
<link rel="stylesheet" href="/assets/css/main.css">

<link rel="canonical" href="/teaching/2021s-cosc-112/labs/05-monte-carlo/">

<!-- JQuery -->
<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>


<!-- Theming-->

  <script src="/assets/js/theme.js"></script>
  <!-- Load DarkMode JS -->
<script src="/assets/js/dark_mode.js"></script>






    
<!-- MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex: {
      tags: 'ams'
    }
  };
</script>
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  </head>

  <body class="fixed-top-nav ">

    <!-- Header -->

    <header>

    <!-- Nav Bar -->
    <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      
      <a class="navbar-brand title font-weight-lighter" href="https://willrosenbaum.com/">
       Will   Rosenbaum
      </a>
      
      <!-- Navbar Toggle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              about
              
            </a>
          </li>
          <!-- Other pages -->
          
          
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/teaching/">
                teaching
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/research/">
                research
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/publications/">
                publications
                
              </a>
          </li>
          
          
	  
          <!-- Blog -->
          <li class="nav-item ">
            <a class="nav-link" href="/blog/">
              blog
              
            </a>
          </li>
          

          
            <div class = "toggle-container">
              <a id = "light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
              </a>
            </div>
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    <!-- Content -->

    <div class="container mt-5">
      <div class="post">

  <header class="post-header">
    <h1 class="post-title">Lab 05: Monte Carlo</h1>
    <p class="post-description">using randomness to estimate areas</p>
  </header>

  <article>
    <hr />

<p><strong>Due:</strong> Friday, April 16, 23:59 AoE.</p>

<hr />

<h2 id="background">Background</h2>

<p><em>Monte Carlo simulation</em> is a tool that employs randomness to estimate quantities that are difficult—if not imppossible—to compute precisely. In this lab, you will use a Monte Carlo simulation to estimate the area of shapes composed of overlapping disks. We call such a shape a <strong>blob</strong>. Here, we have a blob consisting of a single disk:</p>

<p><img src="/assets/img/blobs/blob-1.png" alt="" width="50%" /></p>

<p>Depicted above is the blob together with its <strong>bounding box</strong>: the smallest axis-aligned rectangle that contains the blob. The bounding box is specified by the \((x, y)\)-coordinates of its upper left conrner, its width, and its height.</p>

<p>In the case of a blob consisting of a single disk, it is easy to compute the area of the blob using the well-known formula for the area of a disk \(A = \pi r^2\). However, what if we have a more complicated blob, like the one picture below?</p>

<p><img src="/assets/img/blobs/blob-2.png" alt="" width="50%" /></p>

<p>This blob consists of 5 disks. I am not aware of any nice formula for computing the area of such a figure, so in order to estimate its area, we will use a Monte Carlo simulation. The idea is as follows. If we generate a random point inside the bounding box—say, by throwing a dart at the figure—the probability that the point hits the blob is the ratio of the area of the blob to the area of the bounding box. Symbolically:</p>

\[p = \mathrm{Pr}[\text{point hits blob}] = \frac{A_{\mathrm{blob}}}{A_{\mathrm{box}}}.\]

<p>Here \(A_{\mathrm{blob}}\) is the area of the blob, and \(A_{\mathrm{box}} = \mathrm{width} \times \mathrm{height}\) is the area of the bounding box. Solving for \(A_{\mathrm{blob}}\)—our quantity of interest—we obtain</p>

\[\begin{equation}
A_{\mathrm{blob}} = p \cdot A_{\mathrm{box}}.
\end{equation}\]

<p>Thus, in order to estimate \(A_{\mathrm{blob}}\), we need only estimate \(p\), the probability that that a randomly chosen point in the bounding box hits the blob. We can obtain an estimate of \(p\) by repeatedly choosing random sample points, and taking as our estimate the proportion of samples that land in the blob. Symbolically:</p>

\[\begin{equation}
p \approx \frac{\text{# samples hitting blob}}{\text{# total samples}}.
\end{equation}\]

<p>Putting together, equations (1) and (2), we get</p>

\[\begin{equation}
A_{\mathrm{blob}} \approx \frac{\text{# samples hitting blob}}{\text{# total samples}} \cdot A_{\mathrm{box}}.
\end{equation}\]

<p>For example, suppose we generate 25 random points in the bounding box of previously depicted blob:</p>

<p><img src="/assets/img/blobs/blob-darts.png" alt="" width="50%" /></p>

<p>A total of 17 points are contained in the blob. If the bounding box has a width and height of \(4 \mbox{cm}\), hence an area of \(4 \mbox{cm}^2\), our estimate of the area of the blob is</p>

\[A_{\mathrm{blob}} \approx \frac{17}{25} \cdot 16 = 10.88 \mbox{cm}^2.\]

<p>We may need to produce a lot of samples in order to estimate the area of a blob accurately, but thankfully computers are good at doing a lot of computations quickly!</p>

<h2 id="your-task">Your Task</h2>

<p>Your task is to implement a Monte Carlo simulation to estimate the area of a blob. To get started, download the program files below:</p>

<ul>
  <li><a href="/assets/java/monte-carlo/MonteCarlo.zip">MonteCarlo.zip</a></li>
</ul>

<p><code class="language-plaintext highlighter-rouge">MonteCarlo.zip</code> contains four program files:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">AbstractShape.java</code>: an abstract class representing a shape.</li>
  <li><code class="language-plaintext highlighter-rouge">Circle.java</code>: a subclass of <code class="language-plaintext highlighter-rouge">AbstractShape</code> that represents a disk.</li>
  <li><code class="language-plaintext highlighter-rouge">Blob.java</code>: a class representing a blob consisting of one or more <code class="language-plaintext highlighter-rouge">AbstractShape</code>s.</li>
  <li><code class="language-plaintext highlighter-rouge">AreaTester.java</code>: a program to start testing your Monte Carlo estimation program.</li>
</ul>

<p>You will implement the main methods in <code class="language-plaintext highlighter-rouge">Blob.java</code>. The <code class="language-plaintext highlighter-rouge">Blob</code> is represented as <code class="language-plaintext highlighter-rouge">ArrayList&lt;AbstractShape&gt; shapes</code>, where the individual elements of <code class="language-plaintext highlighter-rouge">shapes</code> are the constituent shapes making up the <code class="language-plaintext highlighter-rouge">Blob</code>. Specifically, you should implement the following methods:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">double getXMin()</code> returns the minimum <code class="language-plaintext highlighter-rouge">x</code> coordinate of the blob—i.e, the <code class="language-plaintext highlighter-rouge">x</code>-coordinate of the left side of the bounding box,</li>
  <li><code class="language-plaintext highlighter-rouge">double getXMax()</code> returns the maximum <code class="language-plaintext highlighter-rouge">x</code> coordinate of the blob—i.e, the <code class="language-plaintext highlighter-rouge">x</code>-coordinate of the right side of the bounding box,</li>
  <li><code class="language-plaintext highlighter-rouge">double getYMin()</code> returns the minimum <code class="language-plaintext highlighter-rouge">y</code> coordinate of the blob—i.e, the <code class="language-plaintext highlighter-rouge">y</code>-coordinate of the top  of the bounding box,</li>
  <li><code class="language-plaintext highlighter-rouge">double getYMax()</code> returns the maximum <code class="language-plaintext highlighter-rouge">y</code> coordinate of the blob—i.e, the <code class="language-plaintext highlighter-rouge">y</code>-coordinate of the bottom of the bounding box,</li>
  <li><code class="language-plaintext highlighter-rouge">boolean contains(double x, double y)</code> which returns <code class="language-plaintext highlighter-rouge">true</code> if the point <code class="language-plaintext highlighter-rouge">(x, y)</code> is contained in the <code class="language-plaintext highlighter-rouge">Blob</code>,</li>
  <li><code class="language-plaintext highlighter-rouge">double estimateArea(int nPoints)</code> which uses a Monte Carlo simulation to estimate the area of the <code class="language-plaintext highlighter-rouge">Blob</code>. The parameter <code class="language-plaintext highlighter-rouge">nPoints</code> is the number of sample points the simulation should use, and the returned value should be computed according to Equation (3) above.</li>
</ol>

<p>In order to generate random points for your Monte Carlo simulation, you can use the <code class="language-plaintext highlighter-rouge">Random</code> class—see <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html">the <code class="language-plaintext highlighter-rouge">Random</code> documentation here</a>. Specifically, to generate a random <em>point</em> <code class="language-plaintext highlighter-rouge">(x, y)</code> in the bounding box of your blob, it is enough to generate <code class="language-plaintext highlighter-rouge">x</code> and <code class="language-plaintext highlighter-rouge">y</code> separately using the <code class="language-plaintext highlighter-rouge">nextDouble()</code> method for <code class="language-plaintext highlighter-rouge">Random</code> (doing some transformation to ensure these numbers have the appropriate maximum and minimum values).</p>

<h2 id="what-to-submit">What to submit</h2>

<p>Submit all code needed to run your program to the Moodle site by <strong>Friday, April 16th, 11:59 AoE.</strong> Additionally, please fill out the survey linked to from the Moodle submission site.</p>

<h2 id="grading">Grading</h2>

<p>The lab will be graded on a 3 point scale as follows:</p>

<ul>
  <li><strong>3</strong> Everything compiles and runs as specified in this document; code is fairly readable and contains comments briefly describing the main functionality of methods defined/larger chunks of code.</li>
  <li><strong>2</strong> The program produces more-or-less correct output, but is sloppy/hard to read; comments may be there, but are not helpful.</li>
  <li><strong>1</strong> Program compiles, but is far from producing the expected output and/or does not run as specified; comments unhelpful or absent.</li>
  <li><strong>0</strong> Program doesn’t compile or outputs garbage; no comments explaining why.</li>
</ul>

<p>Additionally, <strong>extra credit</strong> will be awarded for early submissions (up to 4 days early) as specified in the course syllabus.</p>

<h2 id="extensions">Extensions</h2>

<p>Here are a couple of suggested extensions:</p>

<ol>
  <li>Make a program that draws your <code class="language-plaintext highlighter-rouge">Blob</code> on the screen, together with its bounding box. Note that you will need to transform the coordinates of the <code class="language-plaintext highlighter-rouge">Blob</code> (stored as <code class="language-plaintext highlighter-rouge">double</code>s) to make an appropriately sized image on the screen. You may want to modify the default <code class="language-plaintext highlighter-rouge">draw()</code> methods in <code class="language-plaintext highlighter-rouge">AbstractShape</code> and <code class="language-plaintext highlighter-rouge">Circle</code> so that it allows you to rescale the image.</li>
  <li>If extension 1 isn’t enough, you might also want to modify the program so that the sampled points are also drawn on the screen with different colors to indicate “hits” and “misses”.</li>
  <li>Generalize the <code class="language-plaintext highlighter-rouge">Blob</code> to consist of more shapes! Make other <code class="language-plaintext highlighter-rouge">AbstractShape</code>s such as rectangles (easy), triangles (medium), or general polygons (hard). Your <code class="language-plaintext highlighter-rouge">AreaTester</code> should still compute the correct (estimate of the) <code class="language-plaintext highlighter-rouge">Blob</code>’s area.</li>
</ol>

<p>If you complete an extension, please include a README file with your submission explaining what you did and how to use it.</p>


  </article>

</div>

    </div>

    <!-- Footer -->

    
<footer class="fixed-bottom">
  <div class="container mt-0">
    &copy; Copyright 2021 Will  Rosenbaum.
    
    
    
  </div>
</footer>



  </body>

  <!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  
<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>


  


<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>


</html>
