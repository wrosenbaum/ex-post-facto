<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Will  Rosenbaum | Lab 04: Exceptions</title>
<meta name="description" content="A blog about mathematics, computer science, etc.
">

<!-- Open Graph -->


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">
<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">



<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

<!-- Styles -->
<link rel="shortcut icon" href="/assets/img/favicon.ico">
<link rel="stylesheet" href="/assets/css/main.css">

<link rel="canonical" href="/teaching/2021s-cosc-112/labs/04-exceptions/">

<!-- JQuery -->
<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>


<!-- Theming-->

  <script src="/assets/js/theme.js"></script>
  <!-- Load DarkMode JS -->
<script src="/assets/js/dark_mode.js"></script>






    
<!-- MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex: {
      tags: 'ams'
    }
  };
</script>
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  </head>

  <body class="fixed-top-nav ">

    <!-- Header -->

    <header>

    <!-- Nav Bar -->
    <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      
      <a class="navbar-brand title font-weight-lighter" href="https://willrosenbaum.com/">
       Will   Rosenbaum
      </a>
      
      <!-- Navbar Toggle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              about
              
            </a>
          </li>
          <!-- Other pages -->
          
          
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/teaching/">
                teaching
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/research/">
                research
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/publications/">
                publications
                
              </a>
          </li>
          
          
	  
          <!-- Blog -->
          <li class="nav-item ">
            <a class="nav-link" href="/blog/">
              blog
              
            </a>
          </li>
          

          
            <div class = "toggle-container">
              <a id = "light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
              </a>
            </div>
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    <!-- Content -->

    <div class="container mt-5">
      <div class="post">

  <header class="post-header">
    <h1 class="post-title">Lab 04: Exceptions</h1>
    <p class="post-description">validating input and handling errors gracefully</p>
  </header>

  <article>
    <p>In this lab, you will learn how to use exceptions to handle unexpected or erroneous input gracefully. For the assignment, you will write a program that parses integer values given by the user as input. That is, given a sequence of characters, your program will either (1) identify the string as representing an integer and store that value as an <code class="language-plaintext highlighter-rouge">int</code>, or (2) identify that the string does not represent an integer, and send an appropriate warning to the user. In case (2), the program should return to a “safe” state and continue to operate as expected despite the “bad” input given by the user.</p>

<p><strong>Note.</strong> To get going with the lab, here are some extra resources for exception handling:</p>

<ul>
  <li><a href="/teaching/2021s-cosc-112/notes/handling-exceptions/">Handling Exceptions</a> (notes)</li>
  <li>Chapter 11, <em>Exceptions</em> in Java Programming</li>
  <li>Oracle tutorial: <a href="https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html">Exceptions</a></li>
</ul>

<p>I recommend writing a version of the program that does catch exceptions first, then modifing your program to handle exceptions. I also suggest working through the <a href="/teaching/2021s-cosc-112/notes/handling-exceptions/"><em>Handling Exceptions</em></a> notes before impelementing the exception handling part of the program.</p>

<p>Here is a sample interaction with the completed program:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Enter a number (-1 to exit): 1
x = 1
Enter a number (-1 to exit): 142
x = 142
Enter a number (-1 to exit): -452
x = -452
Enter a number (-1 to exit): 1c34
Could not read integer. InvalidIntegerException: Non-numerical character 'c' encountered.
Enter a number (-1 to exit): 14.3
Could not read integer. InvalidIntegerException: Non-numerical character '.' encountered.
Enter a number (-1 to exit): -34.2
Could not read integer. InvalidIntegerException: Non-numerical character '.' encountered.
Enter a number (-1 to exit): 1 2 3 4 5
x = 1
Enter a number (-1 to exit): x = 2
Enter a number (-1 to exit): x = 3
Enter a number (-1 to exit): x = 4
Enter a number (-1 to exit): x = 5
Enter a number (-1 to exit): -1
x = -1
Goodbye!
</code></pre></div></div>

<p>In particular, the “expected” inputs (i.e., strings of characters representing integers) are handled as expected. “Unexpected” inputs result in a warning being printed the user, but the program does not crash. Instead, the program returns to a state where it can read the next input from the user.</p>

<p>To get started, download the following files, linked to below:</p>

<ul>
  <li><a href="/assets/java/2021s-cosc-112/lab04-exceptions/InvalidIntegerException.java"><code class="language-plaintext highlighter-rouge">InvalidIntegerException.java</code></a></li>
  <li><a href="/assets/java/2021s-cosc-112/lab04-exceptions/Parser.java"><code class="language-plaintext highlighter-rouge">Parser.java</code></a></li>
  <li><a href="/assets/java/2021s-cosc-112/lab04-exceptions/ParserTester.java"><code class="language-plaintext highlighter-rouge">ParserTester.java</code></a></li>
</ul>

<p>There are two things you must complete in the code above:</p>

<ol>
  <li>In <code class="language-plaintext highlighter-rouge">Parser.java</code>, write the method <code class="language-plaintext highlighter-rouge">int readInt()</code>. The method should read characters from the <code class="language-plaintext highlighter-rouge">InputStream in</code> (an instance variable for the <code class="language-plaintext highlighter-rouge">Parser</code> class). Specifically, your method should read the successive characters from <code class="language-plaintext highlighter-rouge">in</code> until the next whitespace character or end of stream is encountered (<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#isWhitespace(char)">The method <code class="language-plaintext highlighter-rouge">Character.isWhitespace(char ch)</code></a> will probably be helpful here). If those characters constitute an integer—i.e., are all digits <code class="language-plaintext highlighter-rouge">0</code> through <code class="language-plaintext highlighter-rouge">9</code>, possibly starting with the <code class="language-plaintext highlighter-rouge">-</code> character—then <code class="language-plaintext highlighter-rouge">readInt()</code> should return the <code class="language-plaintext highlighter-rouge">int</code> whose decimal representation corresponds to these characters. If a non-numerical character is encountered, <code class="language-plaintext highlighter-rouge">readInt()</code> should do the following.
    <ol>
      <li>Continue reading from <code class="language-plaintext highlighter-rouge">in</code> until the next whitespace character is read or the end of the stream is reached.</li>
      <li>Throw an <code class="language-plaintext highlighter-rouge">InvalidIntegerException</code> with a message indicating the <em>first</em> non-numerical character encountered in <code class="language-plaintext highlighter-rouge">in</code>.</li>
    </ol>
  </li>
  <li>In <code class="language-plaintext highlighter-rouge">ParserTester.java</code>, modify the main loop so that the program also catches any <code class="language-plaintext highlighter-rouge">InvalidIntegerException</code> raised in <code class="language-plaintext highlighter-rouge">Parser</code>. When an <code class="language-plaintext highlighter-rouge">InvalidIntegerException</code> is caught, the program should print the message <code class="language-plaintext highlighter-rouge">Could not read integer.</code> to the screen, followed by the details of the caught exception. Note that an <code class="language-plaintext highlighter-rouge">InvalidIntegerException</code> should not break out of the main loop in the program—after an <code class="language-plaintext highlighter-rouge">InvalidIntegerException</code>, the user should be able to continue entering more values.</li>
</ol>

<h2 id="notes">Notes</h2>

<p>The class <code class="language-plaintext highlighter-rouge">InputStream</code> offers only basic operations for reading input. Specifically, you will need to use the <code class="language-plaintext highlighter-rouge">read()</code> method to access each character from <code class="language-plaintext highlighter-rouge">in</code> individually. See the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html"><code class="language-plaintext highlighter-rouge">InputStream</code> documentation</a> for more info. Note that <code class="language-plaintext highlighter-rouge">read()</code> throws an exception, so you must update the declaration of <code class="language-plaintext highlighter-rouge">readInt()</code> to deal with this exception as well as the <code class="language-plaintext highlighter-rouge">InvalidIntegerException</code> you define.</p>

<p>As indicated in the <code class="language-plaintext highlighter-rouge">InputStream</code> documentation, the <code class="language-plaintext highlighter-rouge">read()</code> method returns an <code class="language-plaintext highlighter-rouge">int</code> whose value is <code class="language-plaintext highlighter-rouge">-1</code> if the end of the stream is reached. Otherwise, the returned value is between 0 and 255 (inclusive), and represents the next byte stored in the stream. Each byte represents a single character in the stream. For ASCII text (i.e., the text encoding used for console applications), you can see the correspondence between <code class="language-plaintext highlighter-rouge">byte</code> (or <code class="language-plaintext highlighter-rouge">int</code>) values and their <code class="language-plaintext highlighter-rouge">char</code> equivalents <a href="https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html">on this page</a>.  From the chart, we can see that, for example,  casting the character <code class="language-plaintext highlighter-rouge">'</code><code class="language-plaintext highlighter-rouge">W</code><code class="language-plaintext highlighter-rouge">'</code> as an <code class="language-plaintext highlighter-rouge">int</code>  will store a value of 87.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kt">int</span> <span class="n">capitalA</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="sc">'A'</span><span class="o">;</span>     <span class="c1">// stores value 65</span>
    <span class="kt">int</span> <span class="n">lowerCaseB</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="sc">'b'</span><span class="o">;</span>   <span class="c1">// stores value 98</span>
</code></pre></div></div>

<p>Thankfully, you don’t need to know the conversion from <code class="language-plaintext highlighter-rouge">char</code> to <code class="language-plaintext highlighter-rouge">int</code> explicitly to figure out the value of a digit associated to a char. It is enough to know that the characters <code class="language-plaintext highlighter-rouge">0</code>, <code class="language-plaintext highlighter-rouge">1</code>, …, <code class="language-plaintext highlighter-rouge">9</code> appear sequentially in the ASCII code. Thus, we can use the following trick to get an int whose value is the digit stored in a char <code class="language-plaintext highlighter-rouge">ch</code> :</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kt">int</span> <span class="n">digit</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">ch</span> <span class="o">-</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="sc">'0'</span><span class="o">;</span> 
</code></pre></div></div>

<p>For example if <code class="language-plaintext highlighter-rouge">ch</code> stores the character <code class="language-plaintext highlighter-rouge">4</code>, the value of  <code class="language-plaintext highlighter-rouge">digit</code> will be <code class="language-plaintext highlighter-rouge">4</code> after executing the line above. This pattern will be helpful to get the numerical value associated to a digit read from <code class="language-plaintext highlighter-rouge">in</code>. You can also test that <code class="language-plaintext highlighter-rouge">ch</code> represents a digit by checking if <code class="language-plaintext highlighter-rouge">(int) 0 &lt;= (int) ch</code> and <code class="language-plaintext highlighter-rouge">(int) ch &lt;= (int) 9</code>.</p>

<h5 id="a-note-on-style">A note on style</h5>

<p>In order to refer to refer to a fixed <code class="language-plaintext highlighter-rouge">char</code> value, you should always use the literal character in your code rather than its ASCII (integer) value. For example:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="sc">'A'</span><span class="o">;</span> <span class="c1">// GOOD: refer to the literal char</span>
<span class="kt">char</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">65</span><span class="o">;</span>  <span class="c1">// BAD: never do this</span>
</code></pre></div></div>

<h5 id="requirement">Requirement</h5>

<p>Your program <em>must</em> implement the logic to parse an <code class="language-plaintext highlighter-rouge">int</code> from a sequence of <code class="language-plaintext highlighter-rouge">char</code>s. In particular, you may <em>not</em> use the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)"><code class="language-plaintext highlighter-rouge">Integer.parseInt(...)</code></a> method, or any similar method that handles the parsing for you.</p>

<h2 id="what-to-submit">What to submit</h2>

<p>Submit all code needed to run your program (<code class="language-plaintext highlighter-rouge">InvalidIntegerException.java</code>, <code class="language-plaintext highlighter-rouge">Parser.java</code>, <code class="language-plaintext highlighter-rouge">ParserTester.java</code>) to the Moodle site by <strong>Friday, March 26th, 11:59 AoE.</strong> Additionally, please fill out the survey linked to from the Moodle submission site.</p>

<h2 id="grading">Grading</h2>

<p>The lab will be graded on a 3 point scale as follows:</p>

<ul>
  <li><strong>3</strong> Everything compiles and runs as specified in this document; code is fairly readable and contains comments briefly describing the main functionality of methods defined/larger chunks of code.</li>
  <li><strong>2</strong> The program produces more-or-less correct output, but is sloppy/hard to read; comments may be there, but are not helpful.</li>
  <li><strong>1</strong> Program compiles, but is far from producing the expected output and/or does not run as specified; comments unhelpful or absent.</li>
  <li><strong>0</strong> Program doesn’t compile or outputs garbage; no comments explaining why.</li>
</ul>

<p>Additionally, <strong>extra credit</strong> will be awarded for early submissions (up to 4 days early) as specified in the course syllabus.</p>

<h2 id="extensions">Extensions</h2>

<p>Write a program that uses the <code class="language-plaintext highlighter-rouge">InputStream</code> and exception handling to validate other types of input. For example, you could write a password validator that reads a stream of characters (ending with whitespace) and determines if the text is a strong password. Here a strong password should:</p>

<ol>
  <li>be at least 8 characters in length;</li>
  <li>contain at least one capital and one lower-case letter;</li>
  <li>contain at least one numerical character;</li>
  <li>contain at least one “special” character (not a letter or number).</li>
</ol>

  </article>

</div>

    </div>

    <!-- Footer -->

    
<footer class="fixed-bottom">
  <div class="container mt-0">
    &copy; Copyright 2021 Will  Rosenbaum.
    
    
    
  </div>
</footer>



  </body>

  <!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  
<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>


  


<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>


</html>
