<!doctype html>
<html lang="en">
	<head>

	  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	  <meta charset="utf-8">

		<link rel="stylesheet" href="/assets/reveal.js-master/dist/reset.css">
		<link rel="stylesheet" href="/assets/reveal.js-master/dist/reveal.css">
		<link rel="stylesheet" href="/assets/css/condensation.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="/assets/reveal.js-master/plugin/highlight/monokai.css" id="highlight-theme">
		<link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700" rel="stylesheet">

	</head>

	<body>


	  <!-- this is where the reveailfy filter gets applied -->
	  <div class="reveal"><div class="slides">































































































































































































































































































































































































































<section id="lecture-17-more-linked-lists"><h1>Lecture 17: More Linked Lists</h1></section><section id="overview"><h2>Overview</h2>
<ol>
  <li>Review: Coarse- and Fine-grained Lists</li>
  <li>Optimistic List</li>
  <li>Lazy List</li>
</ol></section><section id="announcements"><h2>Announcements</h2>
<ol>
  <li>Comments on proposals posted
    <ul>
      <li>see shared Google drive</li>
      <li>please consider/respond to comments</li>
    </ul>
  </li>
  <li>
<strong>forthcoming lab/hw assignments are optional</strong>
    <ul>
      <li>can be submitted by end of finals week</li>
      <li>lowest grades dropped</li>
    </ul>
  </li>
  <li>Quizzes weeks of 4/26, 5/3, 5/10, 5/17
    <ul>
      <li>no comprehensive exam</li>
    </ul>
  </li>
  <li>Final project steps
    <ul>
      <li>Proof of concept due 5/7</li>
      <li>Short video due 5/19</li>
      <li>Final submission due 5/28</li>
    </ul>
  </li>
</ol></section><section id="last-time"><h2>Last Time</h2>
<p>A <code>Set</code> of elements:</p>
<ul>
  <li>store a collection of <em>distinct</em> elements</li>
  <li>
<code>add</code> an element
    <ul>
      <li>no effect if element already there</li>
    </ul>
  </li>
  <li>
<code>remove</code> an element
    <ul>
      <li>no effect if not present</li>
    </ul>
  </li>
  <li>check if set <code>contains</code> an element</li>
</ul></section><section id="an-interface"><h2>An Interface</h2>
<pre><code class="language-java">public interface SimpleSet&lt;T&gt; {
    /*
     * Add an element to the SimpleSet. Returns true if the element
     * was not already in the set.
     */
    boolean add(T x);

    /*
     * Remove an element from the SimpleSet. Returns true if the
     * element was previously in the set.
     */
    boolean remove(T x);

    /*
     * Test if a given element is contained in the set.
     */
    boolean contains(T x);
}
</code></pre></section><section id="coarse-grained-locking"><h2>Coarse-grained Locking</h2>
<p>One lock for whole data structure</p>
<p>For any operation:</p>
<ol>
  <li>Lock entire list</li>
  <li>Perform operation</li>
  <li>Unlock list</li>
</ol></section><section id="coarse-grained-insertion"><h2>Coarse-grained Insertion</h2>
<p><img src="/assets/img/concurrent-lists/coarse-list.png" alt="" width="100%"></p></section><section id="step-1-acquire-lock"><h2>Step 1: Acquire Lock</h2>
<p><img src="/assets/img/concurrent-lists/coarse-list-lock.png" alt="" width="100%"></p></section><section id="step-2-iterate-to-find-location"><h2>Step 2: Iterate to Find Location</h2>
<p><img src="/assets/img/concurrent-lists/coarse-list-insert-1.png" alt="" width="100%"></p></section><section id="step-2-iterate-to-find-location-1"><h2>Step 2: Iterate to Find Location</h2>
<p><img src="/assets/img/concurrent-lists/coarse-list-insert-2.png" alt="" width="100%"></p></section><section id="step-2-iterate-to-find-location-2"><h2>Step 2: Iterate to Find Location</h2>
<p><img src="/assets/img/concurrent-lists/coarse-list-insert-3.png" alt="" width="100%"></p></section><section id="step-3-insert-item"><h2>Step 3: Insert Item</h2>
<p><img src="/assets/img/concurrent-lists/coarse-list-insert-4.png" alt="" width="100%"></p></section><section id="step-4-unlock-list"><h2>Step 4: Unlock List</h2>
<p><img src="/assets/img/concurrent-lists/coarse-list-insert-5.png" alt="" width="100%"></p></section><section id="coarse-grained-appraisal"><h2>Coarse-grained Appraisal</h2>
<p>Advantages:</p>
<ul>
  <li>Easy to reason about</li>
  <li>Easy to implement</li>
</ul>
<p>Disadvantages:</p>
<ul>
  <li>No parallelism</li>
  <li>All operations are blocking</li>
</ul></section><section id="fine-grained-locking"><h2>Fine-grained Locking</h2>
<p>One lock per node</p>
<p>For any operation:</p>
<ol>
  <li>Lock head and its next</li>
  <li>Hand-over-hand locking while searching
    <ul>
      <li>always hold at least one lock</li>
    </ul>
  </li>
  <li>Perform operation</li>
  <li>Release locks</li>
</ol></section><section id="a-fine-grained-insertion"><h2>A Fine-grained Insertion</h2>
<p><img src="/assets/img/concurrent-lists/fine-list.png" alt="" width="100%"></p></section><section id="step-1-lock-initial-nodes"><h2>Step 1: Lock Initial Nodes</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-insert-1.png" alt="" width="100%"></p></section><section id="step-2-hand-over-hand-locking"><h2>Step 2: Hand-over-hand Locking</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-insert-1.png" alt="" width="100%"></p></section><section id="step-2-hand-over-hand-locking-1"><h2>Step 2: Hand-over-hand Locking</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-insert-2.png" alt="" width="100%"></p></section><section id="step-2-hand-over-hand-locking-2"><h2>Step 2: Hand-over-hand Locking</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-insert-3.png" alt="" width="100%"></p></section><section id="step-3-perform-insertion"><h2>Step 3: Perform Insertion</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-insert-4.png" alt="" width="100%"></p></section><section id="step-4-unlock-nodes"><h2>Step 4: Unlock Nodes</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-insert-5.png" alt="" width="100%"></p></section><section id="an-advantage-parallel-access"><h2>An Advantage: Parallel Access</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-concurrent-1.png" alt="" width="100%"></p></section><section id="an-advantage-parallel-access-1"><h2>An Advantage: Parallel Access</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-concurrent-2.png" alt="" width="100%"></p></section><section id="an-advantage-parallel-access-2"><h2>An Advantage: Parallel Access</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-concurrent-3.png" alt="" width="100%"></p></section><section id="an-advantage-parallel-access-3"><h2>An Advantage: Parallel Access</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-concurrent-4.png" alt="" width="100%"></p></section><section id="an-advantage-parallel-access-4"><h2>An Advantage: Parallel Access</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-concurrent-5.png" alt="" width="100%"></p></section><section id="an-advantage-parallel-access-5"><h2>An Advantage: Parallel Access</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-concurrent-6.png" alt="" width="100%"></p></section><section id="an-advantage-parallel-access-6"><h2>An Advantage: Parallel Access</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-concurrent-7.png" alt="" width="100%"></p></section><section id="an-advantage-parallel-access-7"><h2>An Advantage: Parallel Access</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-concurrent-8.png" alt="" width="100%"></p></section><section id="an-advantage-parallel-access-8"><h2>An Advantage: Parallel Access</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-concurrent-9.png" alt="" width="100%"></p></section><section id="an-advantage-parallel-access-9"><h2>An Advantage: Parallel Access</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-concurrent-10.png" alt="" width="100%"></p></section><section id="an-advantage-parallel-access-10"><h2>An Advantage: Parallel Access</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-concurrent-11.png" alt="" width="100%"></p></section><section id="an-advantage-parallel-access-11"><h2>An Advantage: Parallel Access</h2>
<p><img src="/assets/img/concurrent-lists/fine-list-concurrent-12.png" alt="" width="100%"></p></section><section id="fine-grained-appraisal"><h2>Fine-grained Appraisal</h2>
<p>Advantages:</p>
<ul>
  <li>Parallel access</li>
  <li>Reasonably simple implementation</li>
</ul>
<p>Disadvantages:</p>
<ul>
  <li>More locking overhead
    <ul>
      <li>can be much slower than coarse-grained</li>
    </ul>
  </li>
  <li>All operations are blocking</li>
</ul></section><section id="optimistic-synchronization"><h2>Optimistic Synchronization</h2>
<p>Fine-grained wastes resources locking</p>
<ul>
  <li>Nodes are locked when traversed</li>
  <li>Locked even if not modified!</li>
</ul>
<p>A better procedure?</p>
<ol>
  <li>Traverse without locking</li>
  <li>Lock relevant nodes</li>
  <li>Perform operation</li>
  <li>Unlock nodes</li>
</ol></section><section id="a-better-way"><h2>A Better Way?</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-list.png" alt="" width="100%"></p></section><section id="a-better-way-1"><h2>A Better Way?</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-1.png" alt="" width="100%"></p></section><section id="a-better-way-2"><h2>A Better Way?</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-2.png" alt="" width="100%"></p></section><section id="a-better-way-3"><h2>A Better Way?</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-3.png" alt="" width="100%"></p></section><section id="a-better-way-4"><h2>A Better Way?</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-4.png" alt="" width="100%"></p></section><section id="a-better-way-5"><h2>A Better Way?</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-8.png" alt="" width="100%"></p></section><section id="what-could-go-wrong"><h2>What Could Go Wrong?</h2>
<div style="margin-bottom: 18em"></div></section><section id="an-issue"><h2>An Issue!</h2>
<p>Between traversing and locking</p>
<ul>
  <li>Another thread modifies the list</li>
  <li>Now locked nodes aren’t the right nodes!</li>
</ul></section><section id="an-issue-illustrated"><h2>An Issue, Illustrated</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-3.png" alt="" width="100%"></p></section><section id="an-issue-illustrated-1"><h2>An Issue, Illustrated</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-issue-4.png" alt="" width="100%"></p></section><section id="an-issue-illustrated-2"><h2>An Issue, Illustrated</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-issue-5.png" alt="" width="100%"></p></section><section id="an-issue-illustrated-3"><h2>An Issue, Illustrated</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-issue-6.png" alt="" width="100%"></p></section><section id="an-issue-illustrated-4"><h2>An Issue, Illustrated</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-issue-8.png" alt="" width="100%"></p></section><section id="an-issue-illustrated-5"><h2>An Issue, Illustrated</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-issue-9.png" alt="" width="100%"></p></section><section id="how-can-we-address-this-issue"><h2>How can we Address this Issue?</h2>
<div style="margin-bottom: 18em"></div></section><section id="optimistic-synchronization-validated"><h2>Optimistic Synchronization, Validated</h2>
<ol>
  <li>Traverse without locking</li>
  <li>Lock relevant nodes</li>
  <li>
<strong>Validate list</strong>
    <ul>
      <li>if validation fails, go back to Step 1</li>
    </ul>
  </li>
  <li>Perform operation</li>
  <li>Unlock nodes</li>
</ol></section><section id="how-do-we-validate"><h2>How do we Validate?</h2>
<p><em>After</em> locking, ensure that:</p>
<ol>
  <li>
<code>pred</code> is reachable from <code>head</code>
</li>
  <li>
<code>curr</code> is <code>pred</code>’s successor</li>
</ol>
<p>If these conditions aren’t met:</p>
<ul>
  <li>Start over!</li>
</ul></section><section id="optimistic-insertion"><h2>Optimistic Insertion</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-list.png" alt="" width="100%"></p></section><section id="step-1-traverse-the-list"><h2>Step 1: Traverse the List</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-1.png" alt="" width="100%"></p></section><section id="step-1-traverse-the-list-1"><h2>Step 1: Traverse the List</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-2.png" alt="" width="100%"></p></section><section id="step-1-traverse-the-list-2"><h2>Step 1: Traverse the List</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-3.png" alt="" width="100%"></p></section><section id="step-2-acquire-locks"><h2>Step 2: Acquire Locks</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-4.png" alt="" width="100%"></p></section><section id="step-3-validate-list---traverse"><h2>Step 3: Validate List - Traverse</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-5.png" alt="" width="100%"></p></section><section id="step-3-validate-list---pred-reachable"><h2>Step 3: Validate List - <code>pred</code> Reachable?</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-6.png" alt="" width="100%"></p></section><section id="step-3-validate-list---is-curr-next"><h2>Step 3: Validate List - Is <code>curr</code> next?</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-7.png" alt="" width="100%"></p></section><section id="step-4-perform-insertion"><h2>Step 4: Perform Insertion</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-8.png" alt="" width="100%"></p></section><section id="step-5-release-locks"><h2>Step 5: Release Locks</h2>
<p><img src="/assets/img/concurrent-lists/optimistic-insert-9.png" alt="" width="100%"></p></section><section id="implementing-validation"><h2>Implementing Validation</h2>
<pre><code class="language-java">    private boolean validate (Node pred, Node curr) {
	Node node = head;
	while (node.key &lt;= pred.key) {
	    if (node == pred) {
		return pred.next == curr;
	    }

	    node = node.next;
	}

	return false;
    }
</code></pre></section><section id="question"><h2>Question</h2>
<p>Under what conditions might optimistic synchronization be fast/slow?</p>
<div style="margin-bottom: 18em"></div></section><section id="testing-optimistic-synchronization"><h2>Testing Optimistic Synchronization</h2></section><section id="optimistic-appraisal"><h2>Optimistic Appraisal</h2>
<p>Advantages:</p>
<ul>
  <li>Less locking than fine-grained</li>
  <li>More opportunities for parallelism than coarse-grained</li>
</ul>
<p>Disadvantages:</p>
<ul>
  <li>Validation could fail</li>
  <li>Not starvation-free
    <ul>
      <li>even if locks are starvation-free</li>
    </ul>
  </li>
</ul></section><section id="so-far"><h2>So Far</h2>
<p>All operations have been <em>blocking</em></p>
<ul>
  <li>Each method call locks a portion of the data structre</li>
  <li>Method calls lock out other calls</li>
  <li>True even for <code>contains()</code> calls
    <ul>
      <li>doesn’t modify the data structure</li>
    </ul>
  </li>
</ul></section><section id="observation"><h2>Observation</h2>
<p>Operations are complicated because they consist of several steps</p>
<ul>
  <li>hard to reason about <em>when</em> the operation appears to take place</li>
  <li>coarse/fine-grained synchronization stop other threads from seeing operations “in progress”</li>
  <li>optimistic synchronization may encounter “in progress” operations before locking
    <ul>
      <li>validation required</li>
    </ul>
  </li>
</ul></section><section id="lazy-synchronization"><h2>Lazy Synchronization</h2>
<ul>
  <li>
<strong>Mark</strong> a node before physical removal
    <ul>
      <li>marked nodes are <em>logically removed</em>, still physically present</li>
    </ul>
  </li>
  <li>Only marked nodes are ever removed</li>
</ul>
<p>Validation simplified:</p>
<ul>
  <li>Just check if nodes are marked</li>
  <li>No need to traverse whole list!</li>
</ul></section><section id="lazy-operation"><h2>Lazy Operation</h2>
<ol>
  <li>Traverse without locking</li>
  <li>Lock relevant nodes</li>
  <li>Validate list
    <ul>
      <li>check nodes are
        <ul>
          <li>not marked</li>
          <li>correct relationship</li>
        </ul>
      </li>
      <li>if validation fails, go back to Step 1</li>
    </ul>
  </li>
  <li>Perform operation
    <ul>
      <li>for removal, mark node first</li>
    </ul>
  </li>
  <li>Unlock nodes</li>
</ol></section><section id="lazy-removal-illustrated"><h2>Lazy Removal Illustrated</h2>
<p><img src="/assets/img/concurrent-lists/lazy-list.png" alt="" width="100%"></p></section><section id="step-1-traverse-list"><h2>Step 1: Traverse List</h2>
<p><img src="/assets/img/concurrent-lists/lazy-list-remove-1.png" alt="" width="100%"></p></section><section id="step-1-traverse-list-1"><h2>Step 1: Traverse List</h2>
<p><img src="/assets/img/concurrent-lists/lazy-list-remove-2.png" alt="" width="100%"></p></section><section id="step-2-lock-nodes"><h2>Step 2: Lock Nodes</h2>
<p><img src="/assets/img/concurrent-lists/lazy-list-remove-3.png" alt="" width="100%"></p></section><section id="step-3-validate-prednext--curr"><h2>Step 3: Validate <code>pred.next == curr</code>?</h2>
<p><img src="/assets/img/concurrent-lists/lazy-list-remove-4.png" alt="" width="100%"></p></section><section id="step-3-validate-not-marked"><h2>Step 3: Validate not marked?</h2>
<p><img src="/assets/img/concurrent-lists/lazy-list-remove-4.png" alt="" width="100%"></p></section><section id="step-4a-perform-logical-removal"><h2>Step 4a: Perform Logical Removal</h2>
<p><img src="/assets/img/concurrent-lists/lazy-list-remove-5.png" alt="" width="100%"></p></section><section id="step-4b-perform-physical-removal"><h2>Step 4b: Perform Physical Removal</h2>
<p><img src="/assets/img/concurrent-lists/lazy-list-remove-6.png" alt="" width="100%"></p></section><section id="step-5-release-locks-and-done"><h2>Step 5: Release Locks and Done!</h2>
<p><img src="/assets/img/concurrent-lists/lazy-list-remove-7.png" alt="" width="100%"></p></section><section id="a-node-in-code"><h2>A <code>Node</code> in Code</h2>
<pre><code class="language-java">    private class Node {
	T item;
	int key;
	Node next;
	Lock lock;
	volatile boolean marked;

	public Node (int key) {
	    this.item = null;
	    this.key = key;
	    this.next = null;
	    this.lock = new ReentrantLock();
	    this.marked = false;
	}
	
	public Node (T item) {
	    this.item = item;
	    this.key = item.hashCode();
	    this.next = null;
	    this.lock = new ReentrantLock();
	}

	public void lock () {
	    lock.lock();
	}

	public void unlock () {
	    lock.unlock();
	}
	
    }
</code></pre></section><section id="validation-simplified"><h2>Validation, Simplified</h2>
<pre><code class="language-java">    private boolean validate (Node pred, Node curr) {
	return !pred.marked &amp;&amp; !curr.marked &amp;&amp; pred.next == curr;
    }
</code></pre></section><section id="improvements"><h2>Improvements?</h2>
<ol>
  <li>Limited locking as in optimistic synchronization</li>
  <li>Simpler validation
    <ul>
      <li>faster—no list traversal</li>
      <li>more likely to succeed?</li>
    </ul>
  </li>
  <li>Logical removal easier to reason about
    <ul>
      <li>linearization point at logical removal line</li>
    </ul>
  </li>
  <li>
<code>contains()</code> no longer acquires locks
    <ul>
      <li>often most frequent operation</li>
      <li>now it is wait-free!</li>
    </ul>
  </li>
</ol></section><section id="wait-free-containment"><h2>Wait-free Containment</h2>
<pre><code class="language-java">    public boolean contains (T item) {
	int key = item.hashCode();
	Node curr = head;
	while (curr.key &lt; key) {
	    curr = curr.next;
	}

	return curr.key == key &amp;&amp; !curr.marked;
    }
</code></pre></section><section id="testing-performance"><h2>Testing Performance!</h2></section><section id="lazy-appraisal"><h2>Lazy Appraisal</h2>
<p>Advantages:</p>
<ul>
  <li>Less locking than fine-grained</li>
  <li>More opportunities for parallelism than coarse-grained</li>
  <li>Simpler validataion than optimistic</li>
  <li>Wait-free <code>contains</code> method</li>
</ul>
<p>Disadvantages:</p>
<ul>
  <li>Validation could still fail (though maybe less likely)</li>
  <li>Not starvation-free
    <ul>
      <li>even if locks are starvation-free</li>
    </ul>
  </li>
  <li>
<code>add</code> and <code>remove</code> still blocking</li>
</ul></section><section id="whats-next"><h2>What’s next</h2>
<p>Can we make <em>all</em> of the operations wait-free?</p>
<ul>
  <li>A concurrent list without locks?</li>
</ul></section><section id="as-before"><h2>As Before</h2>
<p>To get correctness without locks we need atomics!</p>
<ul>
  <li><code>AtomicMarkableReference&lt;T&gt;</code></li>
  <li>Stores
    <ol>
      <li>a reference to a <code>T</code>
</li>
      <li>a boolean <code>marked</code>
</li>
    </ol>
  </li>
  <li>Atomic operations
    <ol>
      <li><code>boolean compareAndSet(T expectedRef, T newRef, boolean expectedMark, boolean newMark)</code></li>
      <li><code>T get(boolean[] marked)</code></li>
      <li><code>T getReference()</code></li>
      <li><code>boolean isMarked()</code></li>
    </ol>
  </li>
</ul></section><section id="nonblocking-list-idea"><h2>Nonblocking List Idea</h2>
<p>Similar to LazyList</p>
<ul>
  <li>use <code>AtomicMarkableReference</code> to mark and modify references simultaneously</li>
  <li>modifications done by <code>LazyList</code> can be done atomically!</li>
  <li>
<code>add</code> and <code>remove</code> are lock-free</li>
  <li>
<code>contains</code> is wait-free (hence also lock-free)</li>
</ul></section><section id="details-next-time"><h2>Details Next Time</h2></section>
</div></div>


	  <script src="/assets/reveal.js-master/dist/reveal.js"></script>
	  <script src="/assets/reveal.js-master/plugin/math/math.js"></script>
	  <script src="/assets/reveal.js-master/plugin/zoom/zoom.js"></script>
	  <script src="/assets/reveal.js-master/plugin/notes/notes.js"></script>
	  <script src="/assets/reveal.js-master/plugin/search/search.js"></script>
	  <script src="/assets/reveal.js-master/plugin/markdown/markdown.js"></script>
	  <script src="/assets/reveal.js-master/plugin/highlight/highlight.js"></script>
	  <script>
	    

	    // Also available as an ES module, see:
	    // https://revealjs.com/initialization/
	    Reveal.initialize({
		controls: false,
		progress: true,
		center: true,
		hash: true,
		transition: 'none',
		math: {
		    config: 'TeX-AMS_HTML-full',
		    TeX: {
			Macros: {
			    R: '\\mathbb{R}',
			    set: [ '\\left\\{#1 \\; ; \\; #2\\right\\}', 2 ]
			}
		    }
		},


		// Learn about plugins: https://revealjs.com/plugins/
		plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight, RevealMath ]
	    });

	  </script>

	</body>
</html>
	  

<!-- <\!-- load the reveal.js css & js (assuming you've put it in assets/)-\-> -->
<!-- <link -->
<!--   rel="stylesheet" -->
<!--   href="/assets/reveal.js-master/css/reveal.scss" -->
<!-- /> -->
<!-- <link -->
<!--   rel="stylesheet" -->
<!--   href="/assets/reveal.js-master/css/theme/source/white.scss" -->
<!-- /> -->
<!-- <script -->
<!--   src="/assets/reveal.js-master/js/reveal.js" -->
<!--   type="text/javascript" -->
<!-- ></script> -->

<!-- <\!-- configure the presentation, (you can tweak options to suit) -\-> -->
<!-- <script> -->
<!--   Reveal.initialize({ -->
<!--     // Display presentation control arrows -->
<!--     controls: false, -->

<!--     // Help the user learn the controls by providing hints, for example by -->
<!--     // bouncing the down arrow when they first encounter a vertical slide -->
<!--     controlsTutorial: false, -->

<!--     // Determines where controls appear, "edges" or "bottom-right" -->
<!--     controlsLayout: "bottom-right", -->

<!--     // Visibility rule for backwards navigation arrows; "faded", "hidden" -->
<!--     // or "visible" -->
<!--     controlsBackArrows: "faded", -->

<!--     // Display a presentation progress bar -->
<!--     progress: true, -->

<!--     // Display the page number of the current slide -->
<!--     slideNumber: false, -->

<!--     // Push each slide change to the browser history -->
<!--     history: false, -->

<!--     // Enable keyboard shortcuts for navigation -->
<!--     keyboard: true, -->

<!--     // Enable the slide overview mode -->
<!--     overview: true -->
<!--   }); -->
<!-- </script> -->
