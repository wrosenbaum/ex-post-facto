<!doctype html>
<html lang="en">
	<head>

	  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	  <meta charset="utf-8">

		<link rel="stylesheet" href="/assets/reveal.js-master/dist/reset.css">
		<link rel="stylesheet" href="/assets/reveal.js-master/dist/reveal.css">
		<link rel="stylesheet" href="/assets/css/condensation.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="/assets/reveal.js-master/plugin/highlight/monokai.css" id="highlight-theme">
		<link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700" rel="stylesheet">

	</head>

	<body>


	  <!-- this is where the reveailfy filter gets applied -->
	  <div class="reveal"><div class="slides">














































































































<!-- # Progress Conditions -->

<!-- ## Is Nonblocking Property Practical? -->

<!-- Nonblocking property $\implies$ *existence* of consistent response to pending method calls -->

<!-- - Does not ensure that such a response can be *found* easily -->

<!-- <div style="margin-bottom: 8em"></div> -->

<!-- ## Scheduler -->

<!-- Given a set of (concurrent) method calls a **scheduler** chooses sequence of methods that make steps -->

<!-- - in computers, OS is typically scheduler -->
<!-- - scheduler may be fair, may not be -->
<!-- - want progress guarantees independent of scheduler -->

<!-- <div style="margin-bottom: 6em"></div> -->

<!-- ## Nonblocking Progress Conditions -->

<!-- Conditions for implementations: -->

<!-- - **Wait-freedom**: pending method invocation always completes in a finite number of steps -->

<!-- <div style="margin-bottom: 6em"></div> -->

<!-- - **Lock-freedom**: among all pending method calls, some method completes in a finite number of steps -->

<!-- <div style="margin-bottom: 6em"></div> -->

<!-- ## Properties of Nonblocking Progress -->

<!-- - Progress is guaranteed even if some thread stalls -->
<!-- - Wait-freedom gives *maximal progress* -->
<!-- - Lock-freedom gives *minimal progress* -->
<!--     + starvation can still occur -->
<!-- - Actual progress depends on *scheduler* -->
<!--     + determines which threads make steps -->

<!-- <div style="margin-bottom: 4em"></div> -->

<!-- ## Blocking Progress Conditions -->

<!-- - **deadlock-free**: whenever *all* pending method calls take steps, each method call completes in a finite number of steps -->

<!-- <div style="margin-bottom: 6em"></div> -->

<!-- - **starvation-free**: whenever *all* pending methods take steps, *some* method call completes in a finite number of steps -->

<!-- <div style="margin-bottom: 6em"></div> -->

<!-- ## Blocking vs Nonblocking Progess -->

<!-- Nonblocking progress -->

<!-- - guarantees progress for any scheduler -->
<!-- - valid even if a process crashes -->

<!-- <div style="margin-bottom: 4em"></div> -->

<!-- Blocking progress -->

<!-- - progress only guaranteed for *fair* schedulers -->
<!-- - if a process crashes, progress not guaranteed -->

<!-- <div style="margin-bottom: 4em"></div> -->

































<section id="lecture-09-linearizability-and-progress"><h1>Lecture 09: Linearizability and Progress</h1></section><section id="last-time"><h2>Last Time</h2>
<ul>
  <li>Sequential consistency:
    <ul>
      <li>consistent with <em>program order</em>
</li>
      <li>consistent with <em>sequential specification</em>
</li>
    </ul>
  </li>
  <li>Properties of sequential consistency
    <ul>
      <li>not compositional
        <ul>
          <li>sequentially consistent components do not imply sequential consistency</li>
        </ul>
      </li>
      <li>nonblocking
        <ul>
          <li>methods can give SC response without waiting for other pending method calls</li>
        </ul>
      </li>
    </ul>
  </li>
</ul></section><section id="today"><h2>Today</h2>
<p>Linearizable objects and executions</p></section><section id="weird-thing-about-sc"><h2>Weird Thing about SC</h2>
<p>SC makes no reference to invocation/response intervals for method calls</p>
<ul>
  <li>Why bother with time intervals if we ignore them (execept relative order for single threads)?</li>
</ul></section><section id="another-idea"><h2>Another idea</h2>
<ul>
  <li>Make sure execution is consistent with timing of method calls</li>
  <li>Consider sequential executions consistent with each method call taking effect at some <em>instant</em> during the method call</li>
</ul></section><section id="same-example-fewer-options"><h2>Same Example, Fewer Options</h2>
<p><img src="/assets/img/consistency/mult-ops.png" alt="" width="100%"></p>
<p>Can only change relative order of method calls if they overlap</p>
<div style="margin-bottom: 8em"></div></section><section id="linearization-points"><h2>Linearization Points</h2>
<p>A <strong>linearization point</strong> is a point in a method call where method “takes effect”</p>
<ul>
  <li>all events after linearization point see effect of method call</li>
  <li>linearization points must be distinct (correspond to some atomic operation)</li>
</ul></section><section id="example-of-linearization-points"><h2>Example of Linearization Points</h2>
<p><img src="/assets/img/consistency/linearization-pts.png" alt="" width="100%"></p>
<div style="margin-bottom: 8em"></div></section><section id="equivalent-sequential-execution"><h2>Equivalent Sequential Execution</h2>
<p><img src="/assets/img/consistency/equivalent-seq-exec.png" alt="" width="100%"></p>
<div style="margin-bottom: 8em"></div></section><section id="an-alternative-sequential-execution"><h2>An Alternative Sequential Execution</h2>
<p><img src="/assets/img/consistency/alt-seq-exec.png" alt="" width="100%"></p>
<div style="margin-bottom: 8em"></div></section><section id="linearizability"><h2>Linearizability</h2>
<p>A concurrent execution is <strong>linearizable</strong> if:</p>
<ul>
  <li>exists a linearization point in each method call such that execution is consistent with sequential execution where method calls occur in order of corresponding linearization points</li>
</ul>
<p>An implementation of an object is linearizable if:</p>
<ul>
  <li>it guarantees every execution is linearizable</li>
</ul></section><section id="comparing-linearizability-and-sc"><h2>Comparing Linearizability and SC</h2>
<ol>
  <li>Does linearizability imply sequential consistency?</li>
  <li>Does sequential consistency imply linearizability?</li>
</ol>
<div style="margin-bottom: 12em"></div></section><section id="linearizability-implies-sc"><h2>Linearizability $\implies$ SC</h2>
<p>Must show:</p>
<ol>
  <li>Maintains program order</li>
  <li>Satisfies sequential specification</li>
</ol>
<div style="margin-bottom: 12em"></div></section><section id="sc-nrightarrow-linearizability"><h2>SC $\nRightarrow$ Linearizability</h2>
<p><img src="/assets/img/consistency/compositionality-p.png" alt="" width="100%"></p>
<div style="margin-bottom: 12em"></div></section><section id="compositionality"><h2>Compositionality</h2>
<p>Recall this execution with 2 queues (not sequentially consistent)</p>
<p><img src="/assets/img/consistency/compositionality.png" alt="" width="100%"></p>
<div style="margin-bottom: 12em"></div></section><section id="but"><h2>But…</h2>
<p><code>p</code> and <code>q</code> are not linearizable in this execution!</p>
<p><img src="/assets/img/consistency/compositionality.png" alt="" width="100%"></p>
<div style="margin-bottom: 12em"></div></section><section id="two-more-questions"><h2>Two More Questions</h2>
<ol>
  <li>Are linearizable objects compositional?</li>
  <li>Is linearizability a nonblocking condition?</li>
</ol></section><section id="are-linearizable-objects-compositional"><h2>Are Linearizable Objects Compositional?</h2>
<div style="margin-bottom: 18em"></div></section><section id="is-linearizability-a-nonblocking-condition"><h2>Is linearizability a nonblocking condition?</h2>
<div style="margin-bottom: 18em"></div></section><section id="coming-up"><h2>Coming Up</h2>
<p>Implementations!</p>
<ul>
  <li>locks</li>
  <li>data structures</li>
</ul></section><section id="homework-questions"><h1>Homework Questions</h1></section><section id="question-1"><h2>Question 1</h2>
<p>Suppose \(n\) threads call the <code>visit()</code> method of a <code>Bouncer</code> object. Argue that the following hold:</p>
<ol>
  <li>At most one thread gets the value <code>STOP</code>.</li>
  <li>At most \(n - 1\) threads get the value <code>DOWN</code>.</li>
  <li>At most \(n - 1\) threads get the value <code>RIGHT</code>.</li>
</ol></section><section id="question-2"><h2>Question 2</h2>
<p>Consider a 2D triangular array of <code>Bouncer</code> objects arranged as follows:</p>
<p><img src="/assets/img/2021s-cosc-273/hw02/bouncer.png" alt="" width="50%"></p></section><section id="question-2-continued"><h2>Question 2, Continued</h2>
<p>Suppose:</p>
<ul>
  <li>All threads start by calling <code>visit()</code> on <code>Bouncer</code> 0.</li>
  <li>Whenever a thread visits a <code>Bouncer</code>, if the <code>Bouncer</code> returns <code>STOP</code>, the thread adopts the number of the <code>Bouncer</code> as its ID.</li>
  <li>If <code>DOWN</code> is returned, the thread then visits the <code>Bouncer</code> below; if <code>RIGHT</code> is returned, the thread visits the <code>Bouncer</code> to the right.</li>
</ul>
<ol>
  <li>Show that for a sufficiently large array of <code>Bouncer</code>s, every thread will eventually <code>STOP</code> at some <code>Bouncer</code>, thereby adopting its ID.</li>
  <li>If the number \(n\) of threads is known in advance, how many <code>Bouncer</code>s are required to ensure that all threads adopt an ID?</li>
</ol></section><section id="illustrations"><h2>Illustrations</h2>
<div style="margin-bottom: 18em"></div></section>
</div></div>


	  <script src="/assets/reveal.js-master/dist/reveal.js"></script>
	  <script src="/assets/reveal.js-master/plugin/math/math.js"></script>
	  <script src="/assets/reveal.js-master/plugin/zoom/zoom.js"></script>
	  <script src="/assets/reveal.js-master/plugin/notes/notes.js"></script>
	  <script src="/assets/reveal.js-master/plugin/search/search.js"></script>
	  <script src="/assets/reveal.js-master/plugin/markdown/markdown.js"></script>
	  <script src="/assets/reveal.js-master/plugin/highlight/highlight.js"></script>
	  <script>
	    

	    // Also available as an ES module, see:
	    // https://revealjs.com/initialization/
	    Reveal.initialize({
		controls: false,
		progress: true,
		center: true,
		hash: true,
		transition: 'none',
		math: {
		    config: 'TeX-AMS_HTML-full',
		    TeX: {
			Macros: {
			    R: '\\mathbb{R}',
			    set: [ '\\left\\{#1 \\; ; \\; #2\\right\\}', 2 ]
			}
		    }
		},


		// Learn about plugins: https://revealjs.com/plugins/
		plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight, RevealMath ]
	    });

	  </script>

	</body>
</html>
	  

<!-- <\!-- load the reveal.js css & js (assuming you've put it in assets/)-\-> -->
<!-- <link -->
<!--   rel="stylesheet" -->
<!--   href="/assets/reveal.js-master/css/reveal.scss" -->
<!-- /> -->
<!-- <link -->
<!--   rel="stylesheet" -->
<!--   href="/assets/reveal.js-master/css/theme/source/white.scss" -->
<!-- /> -->
<!-- <script -->
<!--   src="/assets/reveal.js-master/js/reveal.js" -->
<!--   type="text/javascript" -->
<!-- ></script> -->

<!-- <\!-- configure the presentation, (you can tweak options to suit) -\-> -->
<!-- <script> -->
<!--   Reveal.initialize({ -->
<!--     // Display presentation control arrows -->
<!--     controls: false, -->

<!--     // Help the user learn the controls by providing hints, for example by -->
<!--     // bouncing the down arrow when they first encounter a vertical slide -->
<!--     controlsTutorial: false, -->

<!--     // Determines where controls appear, "edges" or "bottom-right" -->
<!--     controlsLayout: "bottom-right", -->

<!--     // Visibility rule for backwards navigation arrows; "faded", "hidden" -->
<!--     // or "visible" -->
<!--     controlsBackArrows: "faded", -->

<!--     // Display a presentation progress bar -->
<!--     progress: true, -->

<!--     // Display the page number of the current slide -->
<!--     slideNumber: false, -->

<!--     // Push each slide change to the browser history -->
<!--     history: false, -->

<!--     // Enable keyboard shortcuts for navigation -->
<!--     keyboard: true, -->

<!--     // Enable the slide overview mode -->
<!--     overview: true -->
<!--   }); -->
<!-- </script> -->
