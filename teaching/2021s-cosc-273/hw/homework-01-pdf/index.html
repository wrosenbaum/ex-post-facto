<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Will  Rosenbaum | Homework 1</title>
<meta name="description" content="A blog about mathematics, computer science, etc.
">

<!-- Open Graph -->


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">
<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">



<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

<!-- Styles -->
<link rel="shortcut icon" href="/assets/img/favicon.ico">
<link rel="stylesheet" href="/assets/css/main.css">

<link rel="canonical" href="/teaching/2021s-cosc-273/hw/homework-01-pdf/">

<!-- JQuery -->
<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>


<!-- Theming-->

  <script src="/assets/js/theme.js"></script>
  <!-- Load DarkMode JS -->
<script src="/assets/js/dark_mode.js"></script>






    
<!-- MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex: {
      tags: 'ams'
    }
  };
</script>
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  </head>

  <body class="fixed-top-nav ">

    <!-- Header -->

    <header>

    <!-- Nav Bar -->
    <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      
      <a class="navbar-brand title font-weight-lighter" href="https://willrosenbaum.com/">
       Will   Rosenbaum
      </a>
      
      <!-- Navbar Toggle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              about
              
            </a>
          </li>
          <!-- Other pages -->
          
          
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/teaching/">
                teaching
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/research/">
                research
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/publications/">
                publications
                
              </a>
          </li>
          
          
	  
          <!-- Blog -->
          <li class="nav-item ">
            <a class="nav-link" href="/blog/">
              blog
              
            </a>
          </li>
          

          
            <div class = "toggle-container">
              <a id = "light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
              </a>
            </div>
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    <!-- Content -->

    <div class="container mt-5">
      <div class="post">

  <header class="post-header">
    <h1 class="post-title">Homework 1</h1>
    <p class="post-description"></p>
  </header>

  <article>
    <h2 id="instructions">Instructions</h2>

<p>You may work in groups of up to 4 and submit a single assignment for the group. For computational problems, please show your work; for conceptual questions, please explain your reasoning. Solutions may be neatly hand-written and scanned or typeset. Please submit your solution to Moodle <strong>in PDF format</strong>.</p>

<p><strong>Due: Friday, March 5th, 23:59 AoE</strong></p>

<h2 id="exercises">Exercises</h2>

<p><strong>Exercise 1</strong> (scheduling with different processor speeds). Suppose a task $T$ is composed of four (purely sequential) sub-tasks $T_1, T_2, T_3, T_4$ which require 360, 210, 210, and 180 elementary operations (respectively) to complete. We have three processors at our disposal $P_1, P_2, P_3$, which can perform 480, 320, and 320 operations per second (respectively).</p>

<ul>
  <li>
    <p>Find an optimal schedule for the subtasks on the three processors. What is the latency of the computation?</p>
  </li>
  <li>
    <p>Suppose the speed of the three processors are still 480, 320, 320, but it is not known <em>which</em> of the processors is faster. What are the maximum and minimum latencies achieved by greedy scheduling?</p>
  </li>
  <li>
    <p>Again in the case where it is not known which of the processors is fastest, show that there is a greedy schedule in which a non-greedy schedule would have lower latency. (A schedule is <em>non-greedy</em> if at some time, there is an idle process as well as a task that is neither completed nor in progess. That is, the task <em>could</em> be assigned to the process, but is not.)</p>
  </li>
</ul>

<p><strong>Exercise 2</strong> (a naive lock). In class, we saw that unpredictable behavior could occur when multiple threads attempt to access a shared <code class="language-plaintext highlighter-rouge">Counter</code> object. The following <code class="language-plaintext highlighter-rouge">LockedCounter</code> class is an attempt fix the issue by adding a <code class="language-plaintext highlighter-rouge">locked</code> state to the object:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">LockedCounter</span> <span class="o">{</span>
    <span class="kt">long</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kt">boolean</span> <span class="n">locked</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getCount</span> <span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">count</span><span class="o">;</span> <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">increment</span> <span class="o">()</span> <span class="o">{</span> <span class="o">++</span><span class="n">count</span><span class="o">;</span> <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">reset</span> <span class="o">()</span> <span class="o">{</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">lock</span> <span class="o">()</span> <span class="o">{</span> <span class="n">locked</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span> <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">unlock</span> <span class="o">()</span> <span class="o">{</span> <span class="n">locked</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isLocked</span> <span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">locked</span><span class="o">;</span> <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>That is, a thread should only increment the counter if it holds the lock for the counter: if the <code class="language-plaintext highlighter-rouge">LockedCounter</code> is is already locked, the thread should (1) wait until it is unlocked before (2) lock the counter (so that others cannot simultaneously increment the counter) (3) increment the counter, and finally (4) unlock the counter. For example, to increment the counter a thread should execute:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kt">void</span> <span class="nf">incrementCounter</span> <span class="o">(</span><span class="nc">LockedCounter</span> <span class="n">counter</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">while</span> <span class="o">(</span><span class="n">counter</span><span class="o">.</span><span class="na">isLocked</span><span class="o">())</span> <span class="o">{</span>
        <span class="c1">//wait</span>
    <span class="o">}</span>

    <span class="c1">// counter is unlocked</span>

    <span class="n">counter</span><span class="o">.</span><span class="na">lock</span><span class="o">();</span>
    <span class="n">counter</span><span class="o">.</span><span class="na">increment</span><span class="o">();</span>
    <span class="n">counter</span><span class="o">.</span><span class="na">unlock</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Does this code ensure that multiple threads cannot simultaneously increment a <code class="language-plaintext highlighter-rouge">LockedCounter</code> (which led to the anomalous behavior we saw in class)? Why or why not? (Hint: if you aren’t sure, write a program to test the code!)</p>

<p><strong>Exercise 3</strong> (Amdahl’s law). Suppose you are given a program with a method <code class="language-plaintext highlighter-rouge">M</code> that executes sequentially. Use Amdahl’s law to answer the following questions, assuming that the remaining operations in the program can be computed in parallel.</p>

<ul>
  <li>
    <p>If <code class="language-plaintext highlighter-rouge">M</code> accounts for 20% of the program’s total execution time, what is the maximum possible overall speedup on a 2 processor machine? A 3 processor machine? An 8 processor machine?</p>
  </li>
  <li>
    <p>What is the maximum possible speedup for <em>any</em> number of parallel processors (i.e., as the number $n$ of processors becomes arbitrarily large)?</p>
  </li>
  <li>
    <p>Now suppose <code class="language-plaintext highlighter-rouge">M</code> is replaced by a method <code class="language-plaintext highlighter-rouge">N</code> that accomplishes the same task but in half the time. How much faster is the new program than the old program on a 2 processor machine? A 3 processor machine? An 8 processor machine? An $n$ processor machine (as a function of $n$)?</p>
  </li>
</ul>

<p><strong>Exercise 4</strong> (mutual exclusion). Consider the following modified <code class="language-plaintext highlighter-rouge">lock()</code> method for the Peterson lock (cf. Section 2.3.3 in <em>The Art of Multiprocessor Programming</em>):</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">lock</span><span class="o">()</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="nc">ThreadID</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>
    <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="o">;</span>
    <span class="n">victim</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
    <span class="n">flag</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    <span class="k">while</span> <span class="o">(</span><span class="n">flag</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="n">victim</span> <span class="o">==</span> <span class="n">i</span><span class="o">)</span> <span class="o">{}</span> <span class="c1">// wait</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The only difference with the original method is that the statements <code class="language-plaintext highlighter-rouge">victim = i</code> and <code class="language-plaintext highlighter-rouge">flag[i] = true</code> are reversed in the modified version. Does the modified Peterson satisfy mutual exclusion? Why or why not?</p>

<p><strong>Exercise 5</strong> (a challenge). A computer science professor offers the following challenge to their class: The students are lined up in a single file line, so that each student can see all of the students in front of them and none of the students behind them. The professor places a hat on each student’s head; some hats are red while others are blue. Each student can see the colors of the hats of the students in front of them in line, but not their own hat color nor the colors of hats behind them. Starting from the back of the line, the professor asks each student in turn to shout a guess of their hat color (which they cannot themselves see). All other students can hear the guesses. If a student guesses their hat color correctly, they get an ‘A’ for the course.</p>

<p>The students are informed of this procedure and given a chance to dicuss their strategy to maximize the possible number of ‘A’ grades awarded. In a class of $N$ students, what is the largest number of students that can be guaranteed to get an ‘A’ by correctly guessing their hat color? What procedure should they follow to achieve this result?</p>

  </article>

</div>

    </div>

    <!-- Footer -->

    
<footer class="fixed-bottom">
  <div class="container mt-0">
    &copy; Copyright 2021 Will  Rosenbaum.
    
    
    
  </div>
</footer>



  </body>

  <!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  
<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>


  


<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>


</html>
